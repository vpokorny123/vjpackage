"0","PID5_scales = c(""Anhedonia"",""Anxiousness"",""AttnSeek"",""Callousness"",""Deceitfulness"",""Depressivity"",""Distractability"",""Eccentricity"",""EmtnLability"",""Grandiosity"",""Hosility"","
"0","  ""Impulsivity"",""IntimacyAvoidance"",""Irresponsibility"",""Manipulativeness"","
"0","  ""PerceptualDysreg"",""Perseveration"",""RestrictedAffect"",""RigidPerfect"","
"0","  ""RiskTaking"",""SeparationInsecurity"",""Submissiveness"",""Suspiciousness"","
"0","  ""UnusualBeliefs"",""Withdrawal"")"
"0","PID5_val_coeffs = NULL"
"0","for (j in seq(1,length(PID5_scales))){"
"0","      item_names = get(paste0('PID5_',PID5_scales[j]))"
"0","      X = scale(as.matrix(dplyr::select(PID5_cleaned,all_of(item_names))))"
"0","      res<-faMain(X = X, numFactors = 1, facMethod = 'fapa',rotate = 'none')"
"0","      Struct = res$loadings"
"0","      FSCoef = as.matrix(rep(1,ncol(X)))"
"0","      ItemCor = cor(X)"
"0","      C = sqrt(diag(t(FSCoef) %*% ItemCor %*% FSCoef))"
"0","      val_coeff<-abs(t(Struct) %*% FSCoef %*% solve(C))"
"0","      val_coeff = cbind(""Sum Scores"",val_coeff)"
"0","      PID5_val_coeffs = rbind(PID5_val_coeffs,val_coeff)"
"0","}"
"0","load(""PID5_vals.RData"")"
"0","big_vals = rbind(big_vals,PID5_val_coeffs)"
"0","png('PID5_sum_score_FSI.png',width = 2000, height = 800, res = 200, pointsize = 8)"
"0","plot(x = factor(rep(seq(1,25),5)), y = big_vals[,2] ,col = factor(big_vals[,1]), pch= 19, ylab = ""Validity Coefficients"", xlab = ""Factors"", ylim = c(0,1), xaxt = ""n"")"
