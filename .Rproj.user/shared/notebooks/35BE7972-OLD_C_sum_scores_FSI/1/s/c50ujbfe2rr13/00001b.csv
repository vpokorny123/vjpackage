"0",""
"0","for (j in seq(1,5)) {"
"0","q_name = c(""PF16"",""BIG5"",""SD3"",""MPQ"",""PID5"")"
"0","nfactors = c(16,5,3,11,25)"
"0","load(paste0(q_name[j],""_vals.RData""))"
"0","X = get(paste0(q_name[j],'_comp_qs_rev'))"
"0","res<-faMain(X = X, numFactors = nfactors[j], facMethod = 'fapa',rotate = 'varimax')"
"0","Struct = res$loadings"
"0","FSCoef = as.matrix(get(paste0(q_name[j],""_weights"")))"
"0","FSCoef<-faAlign(Struct,FSCoef)$F2"
"0","ItemCor = cor(X)"
"0","C = sqrt(diag(diag(t(FSCoef) %*% ItemCor %*% FSCoef)))"
"0","val_coeffs<-abs(diag(t(Struct) %*% FSCoef %*% solve(C)))"
"0","score_names = rep(""Sum Scores"",length(val_coeffs))"
"0","big_vals = rbind(big_vals,cbind(score_names,val_coeffs))"
"0",""
"0","png(paste0(q_name[j],'_sum_score_FSI.png'),width = 2000, height = 800, res = 200, pointsize = 8)"
"0","plot(x = factor(rep(seq(1,nfactors[j]),5)), y = big_vals[,2] ,col = factor(big_vals[,1]), pch= 19, ylab = ""Validity Coefficients"", xlab = ""Factors"", ylim = c(0,1), xaxt = ""n"")"
"0","legend(""bottomleft"",legend = levels(factor(big_vals[,1])), pch = 19,"
"0","       col = factor(levels(factor(big_vals[,1]))))"
"0","title(q_name[j])"
"0","axis(1, at = seq(1, nfactors[j], 2))"
"0","dev.off()"
"0","}"
"0",""
