"0","MPQ_scales = c(""WB"",""SP"",""AC"",""SC"",""SR"",""AL"",""AG"",""CON"",""HA"",""TR"",""AB"")"
"0","MPQ_val_coeffs = NULL"
"0","for (j in seq(1,length(MPQ_scales))){"
"0","      item_names = get(paste0('MPQ_',MPQ_scales[j]))"
"0","      X = scale(dplyr::select(MPQ_cleaned_all,all_of(item_names)))"
"0","      res<-faMain(X = X, numFactors = 1, facMethod = 'fapa',rotate = 'varimax')"
"0","      Struct = res$loadings"
"0","      FSCoef = as.matrix(rep(1,ncol(X)))"
"0","      ItemCor = cor(X)"
"0","      C = sqrt(diag(t(FSCoef) %*% ItemCor %*% FSCoef))"
"0","      val_coeff<-abs(t(Struct) %*% FSCoef %*% solve(C))"
"0","      val_coeff = cbind(""Sum Scores"",val_coeff)"
"0","      MPQ_val_coeffs = rbind(MPQ_val_coeffs,val_coeff)"
"0","}"
"0","load(""MPQ_vals.RData"")"
"0","big_vals = rbind(big_vals,MPQ_val_coeffs)"
"0","png('MPQ_sum_score_FSI.png',width = 2000, height = 800, res = 200, pointsize = 8)"
"0","plot(x = factor(rep(seq(1,11),5)), y = big_vals[,2] ,col = factor(big_vals[,1]), pch= 19, ylab = ""Validity Coefficients"", xlab = ""Factors"", ylim = c(0,1), xaxt = ""n"")"
