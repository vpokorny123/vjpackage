"0","# Number of simulations"
"0","n_sim <- 10000"
"0",""
"0","# Sample size of each group"
"0","group_names <-c('SCZ', 'BP', 'CON', 'SREL','BREL')"
"0","sampsi <- c(139, 107, 133, 103, 69)"
"0","sampsi <- round(sampsi-(sampsi/10))"
"0",""
"0","# Mean of each group"
"0","mus <- c(.5, .5, 0, .5 ,.5)"
"0","# f effect size"
"0",""
"0","# Standard deviation of each group (assumed to be equal!)"
"0","sds <- c(1, 1, 1,1,1)"
"0",""
"0","p_vals <- NULL"
"0",""
"0","# Set seed for reproducibility"
"0","set.seed(142857)"
"0",""
"0","for(i in 1:n_sim) {"
"0",""
"0","  dat_tmp <- data.frame("
"0","    y = rnorm(sum(sampsi), mean = rep(mus, times = sampsi), sd = rep(sds, times = sampsi))"
"0","    , group = factor(rep(seq_along(mus), times = sampsi))"
"0","  )"
"0","  "
"0","  mod <- anova(lm(y~group, data = dat_tmp))"
"0","  "
"0","  effect_size = p_vals[i] <-  mod$`Pr(>F)`[1]"
"0","  "
"0","  rm(dat_tmp)"
"0","  "
"0","}"
"0",""
"0","# Simulated power"
"0",""
"0","cat(""Simulated power is:"", mean(p_vals <= 0.01)*100, ""%"")"
"1","Simulated power is:"
"1"," "
"1","92.77"
"1"," "
"1","%"
